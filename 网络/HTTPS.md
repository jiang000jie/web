2020.03.04

1. 对称秘钥

    过程:

    (1) 通信的双方在通信开始前交换明文的密钥

    (2) 拿到密钥后,以后的数据通信都需加密后才能进行传输

    (3) 通信过程:发送方在数据传输前进行加密,接受方在收到数据进行解密,处理数据


通信的双方会用同一种加密方式对数据进行加密和解密;

若在密钥交换的时候，就被截取,中间人对后续内容也会进行窥视和修改

2. 非对称密钥

    过程:

    (1) 通信前,服务端保留公钥和私钥，并向客户端发送公钥

    (2) 通信时,客户端发送数据前需用公钥进行加密,服务端收到数据后用私钥进行解密

    (3) 通信时,服务端发送数据前需用私钥进行加密,客户端收到数据后用公钥进行解密

通信过程中，客户端利用公钥加密消息发给服务端的数据是安全的，但是在服务端利用私钥加密的消息发给客户端时，攻击者可以利用公钥进行解密，有风险

3. 对称加密和非对称加密同时使用

    (1) 通信前,利用里非对称加密,客户端获取公钥,然后客户端随机产生一个随机KEY，作为对称加密的密钥,然后用公钥加密随机KEY传给服务端

    (2) 因为随机KEY只有服务端的私钥可以解密,所以此时的随机KEY是保密的,服务端收到后用私钥解密,获取作为对称加密的密钥,以后所有的通信都用随机KEY加密;

密钥协商时,在服务端发送公钥时,黑客介入,将黑客的公钥发给客户端,客户端收到后,会在本地产生一个随机KEY,通过黑客的公钥加密,黑客收到后利用自己的私钥进行解密,获取了随机KEY,随后利用或者更改这个随机KEY,用黑客的公钥进行加密发送给服务端,此时服务端仍不知道与自己通信的一直是黑客;


4. 引入CA,认证机构,负责核实公钥拥有者的信息

    (1) 通信前,server提供公钥,组织信息,域名等信息,向CA机构申请证书;

    (2) CA审核后会签发证书,包含CA名称,有效期,服务器公钥,证书所属人,数字签名

    (3) 客户端发送请求,服务端会返回CA发布的证书,然后由客户端进行解密认证,若认证通过,则随机生成随机KEY(作为对称加密的密钥)，用证书中的公钥进行加密,发送至服务端